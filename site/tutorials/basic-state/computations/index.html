
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../images/logo-dark.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.2">
    
    
      
        <title>Computations - Fusion</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f955dcd.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,400i,700%7CJetBrains+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Inter";--md-code-font-family:"JetBrains Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../stylesheets/fusion.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="fusion-dark" data-md-color-primary="black" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-computation-problem" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Fusion" class="md-header__button md-logo" aria-label="Fusion" data-md-component="logo">
      
  <img src="../../../images/logo-dark.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fusion
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Computations
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/Elttob/Fusion/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Elttob/Fusion
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../null.md" class="md-tabs__link">
        Examples
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../api-reference/" class="md-tabs__link">
        API Reference
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Fusion" class="md-nav__button md-logo" aria-label="Fusion" data-md-component="logo">
      
  <img src="../../../images/logo-dark.svg" alt="logo">

    </a>
    Fusion
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/Elttob/Fusion/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Elttob/Fusion
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Get Started
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      <label class="md-nav__link" for="__nav_2_2">
        Instances
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Instances" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Instances
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../instances/hello-fusion/" class="md-nav__link">
        Hello, Fusion!
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../instances/handling-events/" class="md-nav__link">
        Handling Events
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" checked>
      
      <label class="md-nav__link" for="__nav_2_3">
        Basic State
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Basic State" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Basic State
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../state-objects/" class="md-nav__link">
        State Objects
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Computations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Computations
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-computation-problem" class="md-nav__link">
    The Computation Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computed-objects" class="md-nav__link">
    Computed Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#listening-for-changes" class="md-nav__link">
    Listening for Changes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-computed-objects" class="md-nav__link">
    Why Computed Objects?
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../linking-ui-and-state.md" class="md-nav__link">
        Linking UI and State
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../project-1-counting-clicks/" class="md-nav__link">
        Project 1: Counting Clicks
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" >
      
      <label class="md-nav__link" for="__nav_2_5">
        More State
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="More State" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          More State
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../more-state/creating-lists.md" class="md-nav__link">
        Creating Lists
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      <label class="md-nav__link" for="__nav_2_6">
        Organisation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Organisation" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Organisation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../organisation/organisation.md" class="md-nav__link">
        Components
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../project-2-to-do-list.md" class="md-nav__link">
        Project 2: To-Do List
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_8" type="checkbox" id="__nav_2_8" >
      
      <label class="md-nav__link" for="__nav_2_8">
        Animation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Animation" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_8">
          <span class="md-nav__icon md-icon"></span>
          Animation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../animation/simple-animation.md" class="md-nav__link">
        Simple Animation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../animation/advanced-tweens.md" class="md-nav__link">
        Advanced Tweens
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../animation/advanced-springs.md" class="md-nav__link">
        Advanced Springs
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../project-3-to-do-list.md" class="md-nav__link">
        Project 3: Tabbed Settings
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Examples
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../null.md" class="md-nav__link">
        None
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        API Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/" class="md-nav__link">
        Home
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/luau-types/" class="md-nav__link">
        Luau Types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/errors-and-messages/" class="md-nav__link">
        Errors & Messages
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      <label class="md-nav__link" for="__nav_4_4">
        Instances
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Instances" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Instances
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/new.md" class="md-nav__link">
        New
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/children.md" class="md-nav__link">
        Children
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/onevent.md" class="md-nav__link">
        OnEvent
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/onchange.md" class="md-nav__link">
        OnChange
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      <label class="md-nav__link" for="__nav_4_5">
        State Management
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="State Management" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          State Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state.md" class="md-nav__link">
        State
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/computed.md" class="md-nav__link">
        Computed
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/computedpairs.md" class="md-nav__link">
        ComputedPairs
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      <label class="md-nav__link" for="__nav_4_6">
        Animation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Animation" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Animation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/tween.md" class="md-nav__link">
        Tween
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/tweencontroller.md" class="md-nav__link">
        TweenController
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/spring.md" class="md-nav__link">
        Spring
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/springcontroller.md" class="md-nav__link">
        SpringController
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-computation-problem" class="md-nav__link">
    The Computation Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computed-objects" class="md-nav__link">
    Computed Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#listening-for-changes" class="md-nav__link">
    Listening for Changes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-computed-objects" class="md-nav__link">
    Why Computed Objects?
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Elttob/Fusion/edit/master/docs/tutorials/basic-state/computations.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Computations</h1>
                
                <p>Often, we don't use raw values directly in our UI; instead, we need to perform
computations on those values. Let's learn how to compute new values from existing
ones.</p>
<details class="abstract"><summary>Required code</summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">ReplicatedStorage</span> <span class="o">=</span> <span class="n">game</span><span class="p">:</span><span class="n">GetService</span><span class="p">(</span><span class="s2">&quot;ReplicatedStorage&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">Fusion</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="n">ReplicatedStorage</span><span class="p">.</span><span class="n">Fusion</span><span class="p">)</span>

<span class="kd">local</span> <span class="n">State</span> <span class="o">=</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">State</span>

<span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<hr />
<h2 id="the-computation-problem">The Computation Problem<a class="headerlink" href="#the-computation-problem" title="Permanent link">&para;</a></h2>
<p>In UI development, lots of values are computed based on other values. For
example, you might compute a message based on the number of players online:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="mi">5</span>
<span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span>
</code></pre></div>
<p>However, there's a problem - when <code>numPlayers</code> changes, we have to manually
re-calculate the <code>message</code> value ourselves. If you don't, then the message will
show the wrong amount of players - an issue known as 'data desynchronisation'.</p>
<p>This very same problem appears with Fusion's state objects - after all, they
behave much the same as variables do. We can cause a data desynchronisation bug
by changing the number of players without also changing the message:</p>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Lua</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Num players:&quot;</span><span class="p">,</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Message:&quot;</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>

<span class="n">numPlayers</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Num players:&quot;</span><span class="p">,</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Message:&quot;</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>
</code></pre></div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">Expected output</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>Num players: 5
Message: There are 5 players online.
Num players: 12
Message: There are 5 players online.
</code></pre></div>
</div>
</div>
<hr />
<h2 id="computed-objects">Computed Objects<a class="headerlink" href="#computed-objects" title="Permanent link">&para;</a></h2>
<p>To solve this problem, Fusion introduces a second kind of object - <em>'computed
objects'</em>. Instead of storing a fixed value, they run a given computation to
find the value.</p>
<p>To use computed objects, we first need to import the <code>Computed</code> constructor:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">ReplicatedStorage</span> <span class="o">=</span> <span class="n">game</span><span class="p">:</span><span class="n">GetService</span><span class="p">(</span><span class="s2">&quot;ReplicatedStorage&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">Fusion</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="n">ReplicatedStorage</span><span class="p">.</span><span class="n">Fusion</span><span class="p">)</span>

<span class="kd">local</span> <span class="n">State</span> <span class="o">=</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">State</span>
<span class="hll"><span class="kd">local</span> <span class="n">Computed</span> <span class="o">=</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">Computed</span>
</span></code></pre></div>
</td></tr></table>
<p>Now, we can create a computed object by calling the constructor. We pass in our
computation as a function:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="hll"><span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="n">Computed</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
</span><span class="hll">    <span class="kr">return</span> <span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span>
</span><span class="hll"><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div>
</td></tr></table>
<p>At any time, you can get the computed value with the <code>:get()</code> method:</p>
<div class="tabbed-set" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">Lua</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="n">Computed</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="kr">return</span> <span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span>
<span class="kr">end</span><span class="p">)</span>

<span class="hll"><span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>
</span></code></pre></div>
</td></tr></table>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><label for="__tabbed_2_2">Expected output</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="hll">There are 5 players online.
</span></code></pre></div>
</div>
</div>
<p>If you're using other state (or computed) objects in your computation, then the
value will update automatically as those other objects change:</p>
<div class="tabbed-set" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">Lua</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="n">Computed</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="kr">return</span> <span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span>
<span class="kr">end</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>

<span class="hll"><span class="n">numPlayers</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
</span><span class="hll"><span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>
</span></code></pre></div>
</td></tr></table>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><label for="__tabbed_3_2">Expected output</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>There are 5 players online.
<span class="hll">There are 12 players online.
</span></code></pre></div>
</div>
</div>
<p>With that, you understand the basic idea of computed objects! They let you
define your values <em>reactively</em> - as automatically-updating computations.</p>
<hr />
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Stick to using state objects and computed objects inside your computations.
Fusion can detect these objects and listen for changes.</p>
<p>Fusion can't automatically detect changes when you use 'normal' variables,
or get values from 'normal' functions:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">theVariable</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span>
<span class="kd">local</span> <span class="n">badValue</span> <span class="o">=</span> <span class="n">Computed</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="c1">-- don&#39;t do this! use state objects or computed objects in here</span>
    <span class="kr">return</span> <span class="s2">&quot;Say &quot;</span> <span class="o">..</span> <span class="n">theVariable</span>
<span class="kr">end</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">badValue</span><span class="p">:</span><span class="n">get</span><span class="p">())</span> <span class="c1">-- prints &#39;Say Hello&#39;</span>

<span class="n">theVariable</span> <span class="o">=</span> <span class="s2">&quot;World&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">badValue</span><span class="p">:</span><span class="n">get</span><span class="p">())</span> <span class="c1">-- still prints &#39;Say Hello&#39; - that&#39;s a problem!</span>
</code></pre></div>
<p>By using a state object here, Fusion can correctly update the computed
object when the variable changes:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">theVariable</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">goodValue</span> <span class="o">=</span> <span class="n">Computed</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="c1">-- this is much better!</span>
    <span class="kr">return</span> <span class="s2">&quot;Say &quot;</span> <span class="o">..</span> <span class="n">theVariable</span><span class="p">:</span><span class="n">get</span><span class="p">()</span>
<span class="kr">end</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">goodValue</span><span class="p">:</span><span class="n">get</span><span class="p">())</span> <span class="c1">-- prints &#39;Say Hello&#39;</span>

<span class="n">theVariable</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">goodValue</span><span class="p">:</span><span class="n">get</span><span class="p">())</span> <span class="c1">-- prints &#39;Say World&#39;</span>
</code></pre></div>
</div>
<hr />
<h2 id="listening-for-changes">Listening for Changes<a class="headerlink" href="#listening-for-changes" title="Permanent link">&para;</a></h2>
<p>You can listen for changes using the <code>onChange</code> event, which will fire every
time the computed object updates its value:</p>
<div class="tabbed-set" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><label for="__tabbed_4_1">Lua</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="n">Computed</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="kr">return</span> <span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span>
<span class="kr">end</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>

<span class="hll"><span class="kd">local</span> <span class="n">disconnect</span> <span class="o">=</span> <span class="n">message</span><span class="p">.</span><span class="n">onChange</span><span class="p">:</span><span class="n">Connect</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
</span><span class="hll">    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The message was changed!&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="kr">end</span><span class="p">)</span>
</span>
<span class="n">numPlayers</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>
</code></pre></div>
</td></tr></table>
</div>
<input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><label for="__tabbed_4_2">Expected output</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>There are 5 players online.
<span class="hll">The message was changed!
</span>There are 12 players online.
</code></pre></div>
</div>
</div>
<p>If you'd like to disconnect from the event later, <code>:Connect()</code> returns a
function which, when called, will disconnect your event handler:</p>
<div class="tabbed-set" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><label for="__tabbed_5_1">Lua</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="n">Computed</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="kr">return</span> <span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span>
<span class="kr">end</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>

<span class="kd">local</span> <span class="n">disconnect</span> <span class="o">=</span> <span class="n">message</span><span class="p">.</span><span class="n">onChange</span><span class="p">:</span><span class="n">Connect</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The message was changed!&quot;</span><span class="p">)</span>
<span class="kr">end</span><span class="p">)</span>

<span class="n">numPlayers</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>

<span class="hll"><span class="n">disconnect</span><span class="p">()</span>
</span><span class="hll">
</span><span class="hll"><span class="n">numPlayers</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span class="hll"><span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>
</span></code></pre></div>
</td></tr></table>
</div>
<input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><label for="__tabbed_5_2">Expected output</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>There are 5 players online.
The message was changed!
There are 12 players online.
<span class="hll">There are 0 players online.
</span></code></pre></div>
</div>
</div>
<hr />
<h2 id="why-computed-objects">Why Computed Objects?<a class="headerlink" href="#why-computed-objects" title="Permanent link">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">This section contains optional, extra knowledge</p>
<p>This section is mainly for people who are curious about why exactly computed
objects are used in Fusion. You don't <em>have</em> to know this if you just want
to use computed objects.</p>
</div>
<p>Looking at a computed object, it might look similar to a function in nature. You
might be wondering why we don't just use functions for computations like this.</p>
<p>It's true that in simple examples, you wouldn't notice any difference between an
object-based and function-based approach:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="kd">local</span> <span class="kr">function</span> <span class="nf">getMessage</span><span class="p">()</span>
    <span class="kr">return</span> <span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span>
<span class="kr">end</span>
</code></pre></div>
<p>This function seems to have all the desirable properties of a computed object -
it won't have any data desynchronisation issues, for example:</p>
<div class="tabbed-set" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><label for="__tabbed_6_1">Lua</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="kd">local</span> <span class="kr">function</span> <span class="nf">getMessage</span><span class="p">()</span>
    <span class="kr">return</span> <span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span>
<span class="kr">end</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">getMessage</span><span class="p">())</span>

<span class="n">numPlayers</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">getMessage</span><span class="p">())</span>
</code></pre></div>
</div>
<input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><label for="__tabbed_6_2">Expected output</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>There are 5 players online.
<span class="hll">There are 12 players online.
</span></code></pre></div>
</div>
</div>
<p>However, there's fundamentally a problem with this approach - we don't know when
this function's value changes. It could change at any time, based on any
variables, for any reason. The behaviour of the function is unpredictable.</p>
<p>This makes it difficult to optimise - if we wanted to set some text label's
<code>Text</code> property so it matches a function, for example, we'd have to poll the
function's value every single frame, just to check if the value changed. This is
extremely bad for performance.</p>
<p>One simple solution to this problem is to provide a 'changed' event alongside
the function, and fire the event whenever the function has changed it's value.
This solves the above problem nicely, and allows us to perform caching to
further improve performance.</p>
<p>It turns out that this is actually where computed objects originally came from -
conceptually, they're just a function with a changed event attached! The only
difference is that it's all wrapped up nicely in an object-oriented API, so you
don't have to worry about those details.</p>
<p>From there, the only difference to 'real' computed objects is all of the extra
features Fusion provides to make these objects easier to write and optimise, for
example automatically detecting which state objects you're using, and updating
your objects for you.</p>
<hr />
<p>Now, we've covered everything we need to know about Fusion's basic state tools.
Using computed objects and state objects together, you can easily store and
compute values while avoiding data desynchronisation bugs.</p>
<details class="summary"><summary>Finished code</summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">ReplicatedStorage</span> <span class="o">=</span> <span class="n">game</span><span class="p">:</span><span class="n">GetService</span><span class="p">(</span><span class="s2">&quot;ReplicatedStorage&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">Fusion</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="n">ReplicatedStorage</span><span class="p">.</span><span class="n">Fusion</span><span class="p">)</span>

<span class="kd">local</span> <span class="n">State</span> <span class="o">=</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">State</span>
<span class="kd">local</span> <span class="n">Computed</span> <span class="o">=</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">Computed</span>

<span class="kd">local</span> <span class="n">numPlayers</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">message</span> <span class="o">=</span> <span class="n">Computed</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="kr">return</span> <span class="s2">&quot;There are &quot;</span> <span class="o">..</span> <span class="n">numPlayers</span><span class="p">:</span><span class="n">get</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; players online.&quot;</span>
<span class="kr">end</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>

<span class="kd">local</span> <span class="n">disconnect</span> <span class="o">=</span> <span class="n">message</span><span class="p">.</span><span class="n">onChange</span><span class="p">:</span><span class="n">Connect</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The message was changed!&quot;</span><span class="p">)</span>
<span class="kr">end</span><span class="p">)</span>

<span class="n">numPlayers</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>

<span class="n">disconnect</span><span class="p">()</span>

<span class="n">numPlayers</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">:</span><span class="n">get</span><span class="p">())</span>
</code></pre></div>
</td></tr></table>
</details>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../state-objects/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              State Objects
            </div>
          </div>
        </a>
      
      
        <a href="../../project-1-counting-clicks/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Project 1: Counting Clicks
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tracking"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
    
  </body>
</html>